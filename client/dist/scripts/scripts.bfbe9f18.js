"use strict";angular.module("dscovrDataApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngQuickDate"]).config(["$routeProvider","ngQuickDateDefaultsProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/vis/summary/:arg?/:argg?",{templateUrl:"views/vis/summary.html",controller:"VisSummaryCtrl"}).when("/vis",{redirectTo:"/vis/summary"}).when("/vis/event",{templateUrl:"views/vis/event.html",controller:"VisEventCtrl"}).when("/vis/ts",{templateUrl:"views/vis/ts.html",controller:"VisTsCtrl"}).when("/vis/scatter",{templateUrl:"views/vis/scatter.html",controller:"VisScatterCtrl"}).when("/download/:type?/:arg?/:argg?",{templateUrl:"views/download.html",controller:"DownloadCtrl"}).otherwise({redirectTo:"/"});var c=moment.utc("02-03-2015","DD-MM-YYYY"),d=moment.utc("12-13-2015","DD-MM-YYYY");b.set("dateFilter",function(a){return a=moment(a),a.isAfter(c)&&a.isBefore(d)}),b.set("placeholder","---------------")}]),angular.module("dscovrDataApp").controller("MainCtrl",["$scope","$location","$anchorScroll",function(a,b,c){a.scrollTo=function(a){b.hash(a),c()}}]),angular.module("dscovrDataApp").controller("NavCtrl",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path().split("/")[1]}}]),angular.module("dscovrDataApp").controller("DownloadCtrl",["$scope","$routeParams","$cookieStore","$location","$http",function(a,b,c,d,e){a.mission_start=moment.utc("02-03-2015","DD-MM-YYYY"),a.mission_end=moment.utc("12-12-2015","DD-MM-YYYY");var f=moment.range(a.mission_start,a.mission_end),g="http://gis.ngdc.noaa.gov/dscovr-file-catalog/files";if(a.download_data_type=[{type:"mg1",selected:!0,desc:"Magnetometer L1 data full res"},{type:"fc1",selected:!0,desc:"Faraday Cup L1 data "},{type:"m1s",selected:!0,desc:"Magnetometer 1 second"},{type:"f3s",selected:!0,desc:"Faraday Cup 3 second"},{type:"m1m",selected:!0,desc:"Magnetometer 1 minute average"},{type:"f1m",selected:!0,desc:"Faraday Cup 1 minute average"},{type:"pop",selected:!0,desc:"Predicted Orbit Product"},{type:"mgc",selected:!0,desc:"Magnetometer Calibration"},{type:"fcc",selected:!0,desc:"Faraday Cup Calibration"},{type:"att",selected:!0,desc:"Spacecraft Attitude"},{type:"vc0",selected:!0,desc:"Spacecraft Attitude"},{type:"vc1",selected:!0,desc:"Spacecraft Attitude"}],a.download_data_type_lookaside={mg1:0,fc1:1,m1s:2,f3s:3,m1m:4,f1m:5,pop:6,mgc:7,fcc:8,att:9,vc0:10,vc1:11},a.download_dayfile_info={typea:"/dscovr_data/typea/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.nc",typeb:"/dscovr_data/typeb/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.nc",typec:"/dscovr_data/typec/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.nc",typed:"/dscovr_data/typed/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.nc",typee:"/dscovr_data/typee/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.nc"},a.make_urldate=function(a){return moment.utc(a).startOf("day").toDate().getTime()/1e5},a.parse_urldate=function(a){return moment.utc(1e5*a)},a.make_filedates=function(){if(a.selected_start_date&&a.selected_end_date){var b=moment(a.selected_start_date),c=moment(a.selected_end_date);f.contains(b)&&f.contains(c)?b.isBefore(c)?(a.error_message="",e.get(g,{params:{start_date:b.format(),end_date:c.format()}}).success(function(b){a.files=b})):a.error_message="Make sure end date is after start date":a.error_message="Begin and/or end date is not during mission"}},a.make_wget=function(){if(a.files){var b=[];b.push("wget");for(var c in a.files)for(var d in a.files[c]){var e=a.download_data_type_lookaside[d];e&&1==a.download_data_type[e].selected&&b.push(a.files[c][d].substring(0,a.files[c][d].length-3))}return b.join(" ")}},"tape"==b.type)a.selectmode=1;else{if("file"!=b.type)return void d.url("/download/file");if(a.selectmode=0,a.start_date=moment.utc().subtract(2,"days").startOf("day"),b.arg&&f.contains(a.parse_urldate(b.arg))&&(a.start_date=a.parse_urldate(b.arg)),a.end_date=moment(a.start_date).add(1,"days"),!b.argg||!f.contains(a.parse_urldate(b.argg)))return void d.url("/download/file/"+a.make_urldate(a.start_date)+"/"+a.make_urldate(a.end_date));a.end_date=a.parse_urldate(b.argg),a.selected_start_date=a.start_date.format("YYYY-MM-DD"),a.selected_end_date=a.end_date.format("YYYY-MM-DD"),a.make_filedates()}a.dateselect_start_onchange=function(){1==a.datepicker_start_opened&&a.dateselect_start_locationchange()},a.dateselect_start_locationchange=function(){d.url("/download/file/"+a.make_urldate(a.selected_start_date)+"/"+a.make_urldate(a.selected_end_date))},a.datepicker_start_open=function(b){b.preventDefault(),b.stopPropagation(),a.datepicker_start_opened=!0},a.dateselect_end_onchange=function(){1==a.datepicker_end_opened&&a.dateselect_end_locationchange()},a.dateselect_end_locationchange=function(){d.url("/download/file/"+a.make_urldate(a.selected_start_date)+"/"+a.make_urldate(a.selected_end_date))},a.datepicker_end_open=function(b){b.preventDefault(),b.stopPropagation(),a.datepicker_end_opened=!0},a.format_srcdate=function(a,b){return a=a.split("{{year}}").join(b.format("YYYY")),a=a.split("{{month}}").join(b.format("MM")),a=a.split("{{day}}").join(b.format("DD"))},$("data-type-name").tooltip()}]),angular.module("dscovrDataApp").directive("autoScroll",["$document","$timeout","$location",function(a,b,c){return{restrict:"A",link:function(d){d.okSaveScroll=!0,d.scrollPos={},a.bind("scroll",function(){d.okSaveScroll&&(d.scrollPos[c.path().split("/")[0]]=$(window).scrollTop())}),d.scrollClear=function(a){d.scrollPos[a]=0},d.$on("$locationChangeSuccess",function(){b(function(){$(window).scrollTop(d.scrollPos[c.path().split("/")[0]]?d.scrollPos[c.path().split("/")[0]]:0),d.okSaveScroll=!0},0)}),d.$on("$locationChangeStart",function(){d.okSaveScroll=!1})}}}]),angular.module("dscovrDataApp").controller("VisAdvancedCtrl",["$scope","$routeParams","$cookieStore","$location",function(a){a.mission_start=moment.utc("02-03-2015","DD-MM-YYYY"),a.mission_end=moment.utc("12-12-2015","DD-MM-YYYY");moment.range(a.mission_start,a.mission_end);a.make_urldate=function(a){return moment.utc(a).toDate().getTime()/1e5},a.parse_urldate=function(a){return moment.utc(1e5*a)}}]),angular.module("dscovrDataApp").controller("VisSummaryCtrl",["$scope","$routeParams","$cookieStore","$location",function(a,b,c,d){a.mission_start=moment.utc("02-03-2015","DD-MM-YYYY"),a.mission_end=moment.utc("12-12-2015","DD-MM-YYYY");var e=moment.range(a.mission_start,a.mission_end);switch(a.make_urldate=function(a){return moment.utc(a).toDate().getTime()/1e5},a.parse_urldate=function(a){return moment.utc(1e5*a)},a.summary_frame_info={"6h":{dt:864e5,src:"plots/dscovr_6hr_plots/{{year}}/{{month}}/{{year}}{{month}}{{day}}{{hour}}-6hr.png"},"1d":{dt:864e5,src:"plots/dscovr_1day_plots/{{year}}/{{month}}/{{year}}{{month}}{{day}}-day.png"},"3d":{dt:2592e5,src:"plots/dscovr_3day_plots/{{year}}/{{year}}{{month}}{{day}}-3day.png"},"7d":{dt:6048e5,src:"plots/dscovr_7day_plots/{{year}}/{{year}}{{month}}{{day}}-7day.png"},"1m":{dt:27648e5,src:"plots/dscovr_month_plots/{{year}}/{{year}}{{month}}-month.png"}},b.arg){case"6h":case"1d":case"3d":case"7d":case"1m":a.frame_size=b.arg,a.summary_date=moment.utc().subtract(1,"days"),b.argg&&e.contains(a.parse_urldate(b.argg))&&(a.summary_date=a.parse_urldate(b.argg)),a.timestring=a.make_urldate(a.summary_date),a.selected_date=a.summary_date.format("YYYY-MM-DD"),"3d"==a.frame_size||"7d"==a.frame_size?a.summary_file_date=moment.utc(a.mission_start.toDate().getTime()+a.summary_frame_info[a.frame_size].dt*Math.floor((moment.utc(a.selected_date).toDate().getTime()-a.mission_start.toDate().getTime())/a.summary_frame_info[a.frame_size].dt)):"1d"==a.frame_size||"6h"==a.frame_size?a.summary_file_date=moment.utc(a.selected_date).startOf("day"):"1m"==a.frame_size&&(a.summary_file_date=moment.utc(a.selected_date).startOf("month")),a.summary_file_date_prev=moment.utc(a.summary_file_date).subtract(a.summary_frame_info[a.frame_size].dt,"ms"),a.summary_file_date_end=moment.utc(a.summary_file_date).add(a.summary_frame_info[a.frame_size].dt,"ms"),a.summary_file_date_next=moment.utc(a.summary_file_date).add(2*a.summary_frame_info[a.frame_size].dt,"ms");break;default:return void d.url("/vis/summary/7d")}a.dateselect_locationchange=function(){if(a.selected_date){var c=moment(a.selected_date);d.url("/vis/summary/"+b.arg+"/"+a.make_urldate(c))}},a.get_plotsrc=function(){var b=a.summary_frame_info[a.frame_size].src;return b=b.split("{{year}}").join(a.summary_file_date.format("YYYY")),b=b.split("{{month}}").join(a.summary_file_date.format("MM")),b=b.split("{{day}}").join(a.summary_file_date.format("DD"))},a.get_plotsrc_6h=function(b){var c=a.summary_frame_info[a.frame_size].src;return c=c.split("{{year}}").join(a.summary_file_date.format("YYYY")),c=c.split("{{month}}").join(a.summary_file_date.format("MM")),c=c.split("{{day}}").join(a.summary_file_date.format("DD")),c=c.split("{{hour}}").join(10>b?"0"+b:b)}}]),angular.module("dscovrDataApp").controller("VisEventCtrl",["$scope","$timeout","dscovrDataAccess",function(a,b,c){a.where="",a.timerange_construct="",c.getParameters().then(function(b){a.params=b});var d=function(){var b=a.criteria,d=a.timerange_construct;c.getValues("",b+d).then(function(c){a.plots=[];var d={data:c,title:b};a.plots.push(d)})};a.evalConditions=function(){a.$broadcast("evalConditions",function(c){c?(a.criteria=c,d()):(a.error="please enter at least 1 valid condition!",b(function(){a.error=""},5e3))})}}]),angular.module("dscovrDataApp").directive("conditionContainer",["$timeout",function(){return{template:'<div class="row" style="margin-top: 20px; margin-bottom: 20px;"><div class="col-xs-4"><h3> Select Conditions </h3></div><div class="col-xs-2"><a class="btn btn-default" ng-click=addCondition()> + add condition </a></div></div><div class="row conditionEdit"><div condition-edit params="params" condition="default_condition" removable="false"></div></div><div class="row conditionEdit" ng-repeat="condition in conditions"><div condition-edit params="params" condition="condition" removable="true" rm-condition="rmCondition($index)"></div></div>',restrict:"A",scope:{params:"="},link:function(a){a.default_condition={},a.conditions=[],a.addCondition=function(){var b={};a.conditions.push(b)},a.rmCondition=function(b){a.conditions.splice(b,1)},a.evalConditions=function(){var b="";a.default_condition.construct&&(b=a.default_condition.construct+";");for(var c in a.conditions)a.conditions[c].construct&&(b+=a.conditions[c].construct+";");return b},a.$on("evalConditions",function(b,c){c(a.evalConditions())})}}}]),angular.module("dscovrDataApp").directive("conditionEdit",function(){return{template:'<div class="col-xs-2"><select class="form-control" ng-model="condition.prod" ng-options="prod for prod in keys(params)"><option value="">-- product --</option></select></div><div class="col-xs-2"><select class="form-control" ng-model="condition.param" ng-options="param for param in keys(params[condition.prod])"><option value="">-- parameter --</option></select></div><div class="col-xs-2"><select class="form-control" ng-model="condition.relation"><option value="gt"> &gt; </option><option value="lt"> &lt; </option><option value="eq"> = </option><option value="gte"> &gt;= </option><option value="lte"> &lt;= </option></select></div><div class="col-xs-3"><form class="form-inline"><div class="form-group"><input type="number" class="form-control" placeholder="value" ng-model="condition.value" ng-required></div></form></div><div class="col-xs-2" ng-if="removable"><a class="btn btn-default" ng-click=rmCondition($index)> - remove condition </a></div>',restrict:"A",scope:{params:"=",condition:"=",rmCondition:"&"},link:function(a,b,c){var d=a.$watch("removable",function(){a.removable=a.$eval(c.removable),d()}),e=a.$watchCollection("[params, condition]",function(a,b,c){a[0]&&a[1]&&(c.condition.prod=Object.keys(c.params)[0],c.condition.param=Object.keys(c.params[c.condition.prod])[0],c.condition.relation="gt",e(),c.$watchGroup(["condition.prod","condition.param","condition.relation","condition.value"],function(){c.condition.construct=c.isConditionValid()?[c.condition.prod,c.condition.param,c.condition.relation,c.condition.value].join(":"):""}))});a.$watch("condition.prod",function(){a.condition.prod&&a.params[a.condition.prod]&&(a.condition.param=Object.keys(a.params[a.condition.prod])[0])}),a.keys=function(a){return a?Object.keys(a):void 0},a.isConditionValid=function(){return a.params&&a.condition?a.params[a.condition.prod]&&"number"==typeof a.condition.value:!1}}}}),angular.module("dscovrDataApp").controller("VisTsCtrl",["$scope","$timeout","dscovrDataAccess",function(a,b,c){a.timerange_construct="",c.getParameters().then(function(b){a.params=b});var d=function(){var b=a.selection_strs.split(";;").join(";"),d=a.selection_strs,e=a.timerange_construct;c.getValues(b,a.timerange_construct).then(function(b){var c=d.split(";;").map(function(a){var b="";return a.split(";").map(function(a){a&&(b+=a.split(":")[1]+",")}),b});b=b.map(function(a){return a.time=new Date(+a.time),Object.keys(a).map(function(b){-9999==+a[b]&&(a[b]=null)}),a}),a.plots=[],c.map(function(c){if(c){var d=c.split(",").join(", ").slice(0,-2)+" from "+e.split(";").map(function(a){var b=new Date(Number(a.split(":")[3]));return b.toISOString()}).join(" to "),c={y_accessor:c.split(","),data:b,title:d};a.plots.push(c)}})})};a.evalSelections=function(){a.selection_strs="",a.$broadcast("evalPanes",function(c){var e=0;a.$broadcast("evalSelections",function(f){++e,f&&(a.selection_strs+=f+";"),e==c&&(a.selection_strs?(console.log(a.selection_strs),console.log(a.timerange_construct),d()):(a.error="please enter at least 1 valid pane",b(function(){a.error=""},5e3)))})})}}]),angular.module("dscovrDataApp").controller("VisScatterCtrl",["$scope","$timeout","dscovrDataAccess",function(a,b,c){a.timerange_construct="",c.getParameters().then(function(b){a.params=b});var d=function(){var b=a.selection_str,d=a.timerange_construct,e=a.condition_str+d;c.getValues(b,e).then(function(c){a.plots=[];var d=b.split(";")[0].split(":")[1],e=b.split(";")[1].split(":")[1],f={data:c,title:d+" vs "+e,y_accessor:d,x_accessor:e};console.log(c),a.plots.push(f)})};a.evalSelections=function(){a.$broadcast("evalSelections",function(c){c&&2==c.split(";").length?(a.selection_str=c,a.$broadcast("evalConditions",function(c){c?(a.condition_str=c,d()):(a.error="No valid conditions found!",b(function(){a.error=""},5e3))})):(a.error="please select some parameters to plot",b(function(){a.error=""},5e3))})}}]),angular.module("dscovrDataApp").directive("tsParamContainer",function(){return{template:'<div class="row"><div class="col-xs-4"><h3> Configure Panes </h3></div><div class="col-xs-2"><a class="btn btn-default" ng-click=addPane()> + add pane </a></div></div><div class="row paneEdit"><div class="col-xs-12"><div ts-param-pane params="params" pane="default_pane" removable="false" position="0"></div></div></div><div class="row pnaeEdit" ng-repeat="pane in panes"><div class="col-xs-12"><div ts-param-pane params="params" pane="pane" removable="true" rm-pane="rmPane($index)" position="getPosition(pane)"></div></div></div>',restrict:"A",scope:{params:"="},link:function(a){a.default_pane={},a.panes=[],a.addPane=function(){var b={};a.panes.push(b)},a.getPosition=function(b){return b==a.default_pane?0:a.panes.indexOf(b)+1},a.rmPane=function(b){a.panes.splice(b,1)},a.$on("evalPanes",function(b,c){c(a.panes.length+1)})}}}),angular.module("dscovrDataApp").directive("timeRange",function(){return{template:'<div class="row"><div class="col-xs-4"><h3> Select Date Range </h3></div></div><div class="row" style="margin-bottom: 15px"><div class="col-xs-3"><h5> Begin </h5><quick-datepicker ng-model="selected_begin" on-change="onchange()" icon-class="glyphicon glyphicon-calendar" timezone="UTC"></quick-datepicker></div><div class="col-xs-3"><h5> End </h5><quick-datepicker ng-model="selected_end" on-change="onchange()" icon-class="glyphicon glyphicon-calendar" timezone="UTC"></quick-datepicker></div></div>',restrict:"A",scope:{construct:"="},link:function(a){a.selected_begin=moment(1425429635e3).toDate(),a.selected_end=moment().subtract(1,"days").toDate(),a.construct="",a.construct+="m1m:time:ge:"+a.selected_begin.getTime()+";",a.construct+="m1m:time:le:"+a.selected_end.getTime(),a.onchange=function(){a.construct="",a.construct+="m1m:time:ge:"+a.selected_begin.getTime()+";",a.construct+="m1m:time:le:"+a.selected_end.getTime()}}}}),angular.module("dscovrDataApp").directive("tsParamPane",function(){return{template:'<div class="row"><div class="col-xs-4"><h4> Pane {{position}}</h4></div><div class="col-xs-2"><a class="btn btn-default" ng-click=addSelection()> + add parameter </a></div><div class="col-xs-2" ng-if="removable"><a class="btn btn-default" ng-click=rmPane()> - remove pane </a></div></div><div class="row paneEdit"><div param-edit params="params" selection="default_selection" removable="false"></div></div><div class="row paneEdit" ng-repeat="selection in selections"><div param-edit params="params" selection="selection" removable="true" rm-selection="rmSelection($index)"></div></div>',restrict:"A",scope:{params:"=",pane:"=",rmPane:"&",position:"="},link:function(a,b,c){a.$watch("removable",function(){a.removable=a.$eval(c.removable)}),a.default_selection={},a.selections=[],a.addSelection=function(){var b={};a.selections.push(b)},a.rmSelection=function(b){a.selections.splice(b,1)},a.evalSelections=function(){var b="";a.default_selection.construct&&(b=a.default_selection.construct+";");for(var c in a.selections)a.selections[c].construct&&(b+=a.selections[c].construct+";");return b},a.$on("evalSelections",function(b,c){c(a.evalSelections())})}}}),angular.module("dscovrDataApp").directive("paramEdit",function(){return{template:'<div class="col-xs-2"><select class="form-control" ng-model="selection.prod" ng-options="prod for prod in keys(params)"><option value="">-- product --</option></select></div><div class="col-xs-2"><select class="form-control" ng-model="selection.param" ng-options="param for param in keys(params[selection.prod])"><option value="">-- parameter --</option></select></div><div class="col-xs-2 col-xs-offset-2" ng-if="removable"><a class="btn btn-default" ng-click=rmSelection()> - remove parameter </a></div>',restrict:"A",scope:{params:"=",selection:"=",rmSelection:"&"},link:function(a,b,c){a.$watch("removable",function(){a.removable=a.$eval(c.removable)});var d=a.$watchCollection("[params, selection]",function(a,b,c){a[0]&&a[1]&&(c.selection.prod=Object.keys(c.params)[0],c.selection.param=Object.keys(c.params[c.selection.prod])[0],d(),c.$watchGroup(["selection.param","selection.prod"],function(){c.selection.construct=c.selection.param&&c.selection.prod?[c.selection.prod,c.selection.param].join(":"):""}))});a.$watch("selection.prod",function(){a.selection.prod&&a.params[a.selection.prod]&&(a.selection.param=Object.keys(a.params[a.selection.prod])[0])}),a.keys=function(a){return a?Object.keys(a):void 0}}}}),angular.module("dscovrDataApp").directive("scatterParamPane",function(){return{template:'<div class="row"><div class="col-xs-4"><h3> What to Plot </h3></div></div><div class="row paneEdit"><div class="col-xs-1"><h5> y-axis: </h5></div><div param-edit params="params" selection="selection_y" removable="false"></div><div class="col-xs-1"><h5> x-axis: </h5></div><div param-edit params="params" selection="selection_x" removable="false"</div></div>',restrict:"A",scope:{params:"="},link:function(a){a.selection_y={},a.selection_x={},a.evalSelections=function(){var b="";return a.selection_y.construct&&(b=a.selection_y.construct+";"),a.selection_x.construct&&(b+=a.selection_x.construct),b},a.$on("evalSelections",function(b,c){c(a.evalSelections())})}}}),angular.module("dscovrDataApp").factory("dscovrDataAccess",["$http","$q",function(a,b){var c="//gis.ngdc.noaa.gov/dscovr-data-access/";return{getProducts:function(){return a.get(c+"products").then(function(a){return"object"==typeof a.data?a.data:b.reject(a.data)},function(a){return b.reject(a.data)})},getParameters:function(){return a.get(c+"parameters").then(function(a){return"object"==typeof a.data?a.data:b.reject(a.data)},function(a){return b.reject(a.data)})},getValues:function(d,e){var f=c+"values?parameters="+d+"&criteria="+e;return console.log(f),a.get(f).then(function(a){return"object"==typeof a.data?a.data:b.reject(a.data)},function(a){return b.reject(a.data)})},getFiles:function(d,e){var f=c+"files?start_date="+d+"&end_date="+e;return a.get(f).then(function(a){return"object"==typeof a.data?a.data:b.reject(a.data)},function(a){return b.reject(a.data)})}}}]),angular.module("dscovrDataApp").directive("tsPlot",function(){return{template:"",restrict:"A",scope:{plot:"="},link:function(a,b){a.$watch("plot",function(){a.plot.data&&(console.log(a.plot.data),MG.data_graphic({title:a.plot.title,data:a.plot.data,width:b[0].clientWidth,height:400,target:b[0],x_accessor:"time",y_accessor:a.plot.y_accessor,legend:a.plot.y_accessor,utc_time:!0,full_width:!0}))})}}}),angular.module("dscovrDataApp").directive("scatterPlot",function(){return{template:"",restrict:"A",scope:{plot:"="},link:function(a,b){a.$watch("plot",function(){a.plot.data&&(console.log(a.plot.data),MG.data_graphic({title:a.plot.title,chart_type:"point",data:a.plot.data,width:b[0].clientWidth,height:500,target:b[0],x_accessor:a.plot.x_accessor,y_accessor:a.plot.y_accessor,full_width:!0}))})}}}),angular.module("dscovrDataApp").directive("eventPlot",function(){return{template:"",restrict:"A",scope:{plot:"="},link:function(a,b){a.$watch("plot",function(){a.plot.data&&(a.plot.data.map(function(a){return a.time=new Date(+a.time),a.val=1,a}),MG.data_graphic({title:a.plot.title,chart_type:"point",data:a.plot.data,width:b[0].clientWidth,height:100,target:b[0],x_accessor:"time",y_accessor:"val",full_width:!0}))})}}});